<!-- User create polls--->
<div class="container">
    <p style="color: red"><%= flash[:warning] %></p>
    <div>
        <h1> My Polls </h1>
        <%= link_to "New poll", new_poll_path %>
    </div>

    <!-- Show user polls -->
    <p style="color: green"><%= notice %></p>
    <div id="polls">
    <% @polls.each do |poll| %>
        <%= render "polls/poll", :poll => poll %>
        <p>
        <%= link_to "Show this poll", poll %>
        </p>
    <% end %>
    </div>

    <h1>Participated Polls </h1>
    <div id="polls">
    <% @user.poll_votes.select(:poll_id).distinct(:poll_id).each do |poll_vote| %>
        
        <p>
            <strong>Title:</strong>
            <%= poll_vote.poll.title %>
        </p>

        <p>
            <strong>Summary:</strong>
            <%= poll_vote.poll.summary %>
        </p>
        <%= link_to "Go to poll form", form_url(poll_vote.poll.invite_token) %>
        </p>
    <% end %>
    </div>

</div>
